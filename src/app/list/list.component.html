<section class="lists">
  <header class="main">
    <h3>Create/view lists</h3>
  </header>

  <div class="create-list">
    <form [formGroup]="newList" (ngSubmit)="onSubmit()">
      <!-- labels, placeholder caps (all caps font is good) -->
      <label for="add-list"
        >Add a new list {{ nameAlreadyExists }}
        <input
          [ngClass]="{
            invalid:
              newList.get('name').errors &&
              newList.get('name').errors.nameAlreadyExists
          }"
          type="text"
          id="add-list"
          formControlName="name"
          placeholder="Add a new list"
      /></label>
      <!--needs hover cursor -->
      <button type="submit" [disabled]="newList.get('name').errors">
        +
      </button>
    </form>

    <!-- Validation Errors -->
    <div
      [ngClass]="{
        invalid:
          newList.get('name').errors &&
          newList.get('name').errors.nameAlreadyExists
      }"
    >
      A list with this name already exists.
    </div>
  </div>

  <div class="view-lists">
    <header *ngIf="lists.length === 0">
      <h6><em>There are no lists to display.</em></h6>
    </header>
    <header *ngIf="lists.length !== 0">
      <h3>My Lists:</h3>
    </header>
    <ul *ngFor="let list of lists">
      <li>
        <h3>{{ list.name }}</h3>
        <button class="delete" (click)="onDeleteList(list.name)">Delete</button>
        <button class="view" [routerLink]="['/list', list.name]">View</button>
        <h6>
          {{ watchedCounter(list.name) }} of
          {{ movieCounter(list.name) }} movies watched.
        </h6>
      </li>
    </ul>
  </div>
</section>
